(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"smfcs/flashcard","version":"0.1.0","title":"Flashcard","category":"widgets","icon":"index-card","description":"Create interactive flashcards with custom content","supports":{"html":true,"align":["wide","full"],"color":{"background":true,"gradients":true}},"attributes":{"isFlipped":{"type":"boolean","default":false},"width":{"type":"number","default":100},"height":{"type":"number","default":300},"isVisible":{"type":"boolean","default":true},"index":{"type":"number"}},"example":{"attributes":{"isFlipped":false},"innerBlocks":[{"name":"smfcs/flashcard-front","innerBlocks":[{"name":"core/heading","attributes":{"content":"Front Side","level":2}}]},{"name":"smfcs/flashcard-back","innerBlocks":[{"name":"core/heading","attributes":{"content":"Back Side","level":2}}]}]},"textdomain":"smart-flashcards","editorScript":"file:../../../build/blocks/flashcard/index.js","editorStyle":"file:../../../build/blocks/flashcard-set/editor.css","style":"file:../../../build/blocks/flashcard-set/style.css","viewScript":"file:../../../build/frontend.js"}'),s=window.React,l=window.wp.blockEditor,n=window.wp.components,r=window.wp.element,c=window.wp.data,i="smfcs",o={FLASHCARD_SET:`${i}/flashcard-set`,FLASHCARD:`${i}/flashcard`,FLASHCARD_FRONT:`${i}/flashcard-front`,FLASHCARD_BACK:`${i}/flashcard-back`},d=[o.FLASHCARD_FRONT,o.FLASHCARD_BACK],f=[[o.FLASHCARD_FRONT],[o.FLASHCARD_BACK]];(0,e.registerBlockType)(a.name,{...a,title:(0,t.__)("Smart Flashcard","smart-flashcards"),description:(0,t.__)("Create interactive flashcards with custom content","smart-flashcards"),edit:function({attributes:e,setAttributes:a,clientId:i}){const[o,m]=(0,r.useState)("front"),{width:h,height:u,index:b}=e,k=(0,l.useBlockProps)({"data-index":b}),{selectedBlockClientId:p,innerBlocks:w}=(0,c.useSelect)((e=>({selectedBlockClientId:e("core/block-editor").getSelectedBlockClientId(),innerBlocks:e("core/block-editor").getBlocks(i)})),[i]),{selectBlock:B}=(0,c.useDispatch)("core/block-editor"),C=e=>{m(e);const t=w.find((t=>"front"===e?"smfcs/flashcard-front"===t.name:"smfcs/flashcard-back"===t.name));t&&B(t.clientId)};return(0,r.useEffect)((()=>{if(p){const e=w.find((e=>"smfcs/flashcard-front"===e.name)),t=w.find((e=>"smfcs/flashcard-back"===e.name));e&&p===e.clientId?m("front"):t&&p===t.clientId&&m("back")}}),[p,w]),(0,s.createElement)("div",{...k},b&&(0,s.createElement)("div",{className:"flashcard-index"},b),(0,s.createElement)(l.InspectorControls,null,(0,s.createElement)(n.PanelBody,{title:(0,t.__)("Flashcard Settings","smart-flashcards")},(0,s.createElement)(n.ButtonGroup,null,(0,s.createElement)(n.Button,{isPrimary:"front"===o,onClick:()=>C("front"),"aria-label":(0,t.__)("Show front side","smart-flashcards")},(0,t.__)("Front","smart-flashcards")),(0,s.createElement)(n.Button,{isPrimary:"back"===o,onClick:()=>C("back"),"aria-label":(0,t.__)("Show back side","smart-flashcards")},(0,t.__)("Back","smart-flashcards")))),(0,s.createElement)(n.PanelBody,{title:"Dimensions"},(0,s.createElement)(n.RangeControl,{label:"Width (%)",value:h,onChange:e=>a({width:e}),min:20,max:100,step:5}),(0,s.createElement)(n.RangeControl,{label:"Height (px)",value:u,onChange:e=>a({height:e}),min:200,max:800,step:10}))),(0,s.createElement)("div",{className:"flashcard"},(0,s.createElement)("div",{className:`flashcard-inner flashcard-${o}`},(0,s.createElement)(l.InnerBlocks,{allowedBlocks:d,template:f,templateLock:"all"}),(0,s.createElement)(n.Button,{className:"smfcs-flashcard-flip-button",isPrimary:!0,onClick:()=>C("front"===o?"back":"front"),"aria-label":"back"===o?(0,t.__)("Show front side","smart-flashcards"):(0,t.__)("Show back side","smart-flashcards")},(0,s.createElement)("span",{className:"dashicons dashicons-image-flip-horizontal"})))))},save:function({attributes:e}){const{width:t,height:a}=e,n=l.useBlockProps.save({style:{width:`${t}%`,height:`${a}px`}});return(0,s.createElement)("div",{...n},(0,s.createElement)("div",{className:"flashcard"},(0,s.createElement)("div",{className:"flashcard-inner",role:"button",tabIndex:"0","aria-label":"Flashcard front side - Click or press Enter to flip"},(0,s.createElement)(l.InnerBlocks.Content,null))))}})})();