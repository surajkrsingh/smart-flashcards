(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"smfcs/flashcard-set","version":"0.1.0","title":"Flashcard Set","category":"widgets","icon":"slides","description":"Create a set of flashcards with navigation","attributes":{},"supports":{"align":["wide","full"],"html":false},"textdomain":"smart-flashcards","editorScript":"file:../../../build/flashcard-set/index.js","editorStyle":"file:../../../build/editor.css","style":"file:../../../build/style.css","viewScript":"file:../../../build/frontend.js"}'),a=window.React,s=window.wp.i18n,l=window.wp.blockEditor,r=window.wp.components,c=window.wp.element,n=window.wp.data,o=["smfcs/flashcard"],i=[["smfcs/flashcard"]];(0,e.registerBlockType)(t.name,{...t,icon:"slides",title:(0,s.__)("Flashcard Set","smart-flashcards"),description:(0,s.__)("Create a set of flashcards with carousel navigation","smart-flashcards"),edit:function({attributes:e,setAttributes:t,clientId:d}){const[m,h]=(0,c.useState)(0),f=(0,l.useBlockProps)(),{insertBlock:u}=(0,n.useDispatch)("core/block-editor"),{innerBlocks:p}=(0,n.useSelect)((e=>({innerBlocks:e("core/block-editor").getBlocks(d)})),[d]);return(0,c.useEffect)((()=>{const e=document.querySelector(".block-editor-block-list__layout");e&&(e.style.transform=`translateX(-${100*m}%)`)}),[m]),(0,a.createElement)("div",{...f},(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(r.PanelBody,{title:(0,s.__)("Flashcard Management","smart-flashcards")},(0,a.createElement)("div",{className:"flashcard-set-controls"},(0,a.createElement)(r.Button,{variant:"primary",onClick:()=>{u("smfcs/flashcard",p.length,d,!1).then((()=>{h(p.length)}))},style:{marginBottom:"15px"}},(0,s.__)("Add New Flashcard","smart-flashcards")),(0,a.createElement)("div",{className:"flashcard-set-count"},(0,s.__)("Total Flashcards:","smart-flashcards")," ",p.length)))),(0,a.createElement)("div",{className:"flashcard-set-wrapper"},(0,a.createElement)("div",{className:"flashcard-set-nav"},(0,a.createElement)(r.Button,{variant:"secondary",disabled:0===m,onClick:()=>h(Math.max(0,m-1))},"←"),(0,a.createElement)("span",null,(0,s.__)(`Card ${m+1} of ${p.length}`,"smart-flashcards")),(0,a.createElement)(r.Button,{variant:"secondary",disabled:m>=p.length-1,onClick:()=>h(Math.min(p.length-1,m+1))},"→")),(0,a.createElement)("div",{className:"flashcard-set-slides"},(0,a.createElement)(l.InnerBlocks,{allowedBlocks:o,template:i,templateLock:!1,orientation:"horizontal"}))))},save:function({attributes:e}){const t=l.useBlockProps.save();return(0,a.createElement)("div",{...t},(0,a.createElement)("div",{className:"flashcard-set-wrapper"},(0,a.createElement)(l.InnerBlocks.Content,null)))}})})();