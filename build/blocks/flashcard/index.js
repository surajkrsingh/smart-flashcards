(()=>{"use strict";var e={20:(e,t,a)=>{var r=a(609),s=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,a){var r,o={},i=null,d=null;for(r in void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:s,type:e,key:i,ref:d,props:o,_owner:l.current}}},848:(e,t,a)=>{e.exports=a(20)},609:e=>{e.exports=window.React}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}const r=window.wp.blocks,s=window.wp.i18n,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"smfcs/flashcard","version":"0.1.0","title":"Flashcard","category":"widgets","icon":"index-card","description":"Create interactive flashcards with custom content","supports":{"html":true,"align":["wide","full"],"color":{"background":true,"gradients":true}},"attributes":{"isFlipped":{"type":"boolean","default":false},"width":{"type":"number","default":100},"height":{"type":"number","default":300},"isVisible":{"type":"boolean","default":true},"index":{"type":"number"}},"example":{"attributes":{"isFlipped":false},"innerBlocks":[{"name":"smfcs/flashcard-front","innerBlocks":[{"name":"core/heading","attributes":{"content":"Front Side","level":2}}]},{"name":"smfcs/flashcard-back","innerBlocks":[{"name":"core/heading","attributes":{"content":"Back Side","level":2}}]}]},"textdomain":"smart-flashcards","editorScript":"file:../../../build/blocks/flashcard/index.js","editorStyle":"file:../../../build/blocks/flashcard-set/editor.css","style":"file:../../../build/blocks/flashcard-set/style.css","viewScript":"file:../../../build/frontend.js"}');var l=a(609);const c=window.wp.blockEditor,o=window.wp.components,i=window.wp.element,d=window.wp.data,f="smfcs",m={FLASHCARD_SET:`${f}/flashcard-set`,FLASHCARD:`${f}/flashcard`,FLASHCARD_FRONT:`${f}/flashcard-front`,FLASHCARD_BACK:`${f}/flashcard-back`},h=[m.FLASHCARD_FRONT,m.FLASHCARD_BACK],u=[[m.FLASHCARD_FRONT],[m.FLASHCARD_BACK]],p=window.wp.primitives;var b=a(848);const k=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M4 6v12c0 1.1.9 2 2 2h3v-1.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h3V4H6c-1.1 0-2 .9-2 2zm7.2 16h1.5V2h-1.5v20zM15 5.5h1.5V4H15v1.5zm3.5.5H20c0-1.1-.9-2-2-2v1.5c.3 0 .5.2.5.5zm0 10.5H20v-2h-1.5v2zm0-3.5H20v-2h-1.5v2zm-.5 5.5V20c1.1 0 2-.9 2-2h-1.5c0 .3-.2.5-.5.5zM15 20h1.5v-1.5H15V20zm3.5-10.5H20v-2h-1.5v2z"})});(0,r.registerBlockType)(n.name,{...n,title:(0,s.__)("Smart Flashcard","smart-flashcards"),description:(0,s.__)("Create interactive flashcards with custom content","smart-flashcards"),edit:function({attributes:e,setAttributes:t,clientId:a}){const[r,n]=(0,i.useState)("front"),{width:f,height:m,index:p}=e,b=(0,c.useBlockProps)({"data-index":p}),{selectedBlockClientId:w,innerBlocks:v}=(0,d.useSelect)((e=>({selectedBlockClientId:e("core/block-editor").getSelectedBlockClientId(),innerBlocks:e("core/block-editor").getBlocks(a)})),[a]),{selectBlock:_}=(0,d.useDispatch)("core/block-editor"),S=e=>{n(e);const t=v.find((t=>"front"===e?"smfcs/flashcard-front"===t.name:"smfcs/flashcard-back"===t.name));t&&_(t.clientId)};return(0,i.useEffect)((()=>{if(w){const e=v.find((e=>"smfcs/flashcard-front"===e.name)),t=v.find((e=>"smfcs/flashcard-back"===e.name));e&&w===e.clientId?n("front"):t&&w===t.clientId&&n("back")}}),[w,v]),(0,l.createElement)("div",{...b},p&&(0,l.createElement)("div",{className:"flashcard-index"},p),(0,l.createElement)(c.InspectorControls,null,(0,l.createElement)(o.PanelBody,{title:(0,s.__)("Flashcard Settings","smart-flashcards")},(0,l.createElement)(o.ButtonGroup,null,(0,l.createElement)(o.Button,{isPrimary:"front"===r,onClick:()=>S("front"),"aria-label":(0,s.__)("Show front side","smart-flashcards")},(0,s.__)("Front","smart-flashcards")),(0,l.createElement)(o.Button,{isPrimary:"back"===r,onClick:()=>S("back"),"aria-label":(0,s.__)("Show back side","smart-flashcards")},(0,s.__)("Back","smart-flashcards")))),(0,l.createElement)(o.PanelBody,{title:"Dimensions"},(0,l.createElement)(o.RangeControl,{label:"Width (%)",value:f,onChange:e=>t({width:e}),min:20,max:100,step:5}),(0,l.createElement)(o.RangeControl,{label:"Height (px)",value:m,onChange:e=>t({height:e}),min:200,max:800,step:10}))),(0,l.createElement)("div",{className:"flashcard"},(0,l.createElement)("div",{className:`flashcard-inner flashcard-${r}`},(0,l.createElement)(c.InnerBlocks,{allowedBlocks:h,template:u,templateLock:"all"}),(0,l.createElement)(o.Button,{className:"smfcs-flashcard-control-button",isPrimary:!0,onClick:()=>S("front"===r?"back":"front"),"aria-label":"back"===r?(0,s.__)("Show front side","smart-flashcards"):(0,s.__)("Show back side","smart-flashcards")},(0,l.createElement)(o.Icon,{icon:k})))))},save:function({attributes:e}){const{width:t,height:a}=e,r=c.useBlockProps.save({style:{width:`${t}%`,height:`${a}px`}});return(0,l.createElement)("div",{...r},(0,l.createElement)("div",{className:"flashcard"},(0,l.createElement)("div",{className:"flashcard-inner",role:"button",tabIndex:"0","aria-label":"Flashcard front side - Click or press Enter to flip"},(0,l.createElement)(c.InnerBlocks.Content,null))))}})})();