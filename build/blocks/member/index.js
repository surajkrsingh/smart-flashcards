(()=>{"use strict";var e={20:(e,t,a)=>{var r=a(609),o=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,a){var r,c={},i=null,m=null;for(r in void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(m=t.ref),t)s.call(t,r)&&!n.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:i,ref:m,props:c,_owner:l.current}}},848:(e,t,a)=>{e.exports=a(20)},609:e=>{e.exports=window.React}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=window.wp.blocks,o=window.wp.i18n,s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"smfcs/member","version":"1.0.0","title":"Member","category":"widgets","icon":"admin-users","description":"Display a member profile with customizable elements","supports":{"html":false,"align":["wide","full"]},"textdomain":"smart-flashcards","editorScript":"file:../../../build/blocks/member/index.js","editorStyle":"file:../../../build/blocks/member/editor.css","style":"file:../../../build/blocks/member/style.css","attributes":{"userId":{"type":"number","default":0},"showName":{"type":"boolean","default":true},"showAvatar":{"type":"boolean","default":true},"showBio":{"type":"boolean","default":true},"showEmail":{"type":"boolean","default":false},"showWebsite":{"type":"boolean","default":false},"showSocialLinks":{"type":"boolean","default":false},"avatarSize":{"type":"number","default":96},"timestamp":{"type":"number","default":0}}}');var l=a(609);const n=window.wp.blockEditor,c=window.wp.components,i=window.wp.element,m=window.wp.apiFetch;var d=a.n(m);const h=window.wp.serverSideRender;var p=a.n(h);const u=window.wp.primitives;var w=a(848);const b=(0,w.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,w.jsx)(u.Path,{fillRule:"evenodd",d:"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"})}),f=window.lodash;(0,r.registerBlockType)(s.name,{...s,edit:({attributes:e,setAttributes:t})=>{const a=(0,n.useBlockProps)(),[r,s]=(0,i.useState)([]),[m,h]=(0,i.useState)(!1),[u,w]=(0,i.useState)(""),_=async(e="")=>{h(!0),w("");try{const t=(await d()({path:`/wp/v2/users?${e?`search=${encodeURIComponent(e)}&`:""}per_page=100&context=edit`})).map((e=>({value:e.id.toString(),label:`${e.name} (${e.email})`})));s(t)}catch(e){w(e.message),s([])}finally{h(!1)}},g=(0,f.debounce)((e=>{_(e)}),300);return(0,i.useEffect)((()=>{_()}),[]),(0,l.createElement)("div",{...a},(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(c.PanelBody,{title:(0,o.__)("Member Settings","smart-flashcards")},(0,l.createElement)("div",{className:"user-search-container"},(0,l.createElement)(c.ComboboxControl,{label:(0,o.__)("Select or Search Member","smart-flashcards"),value:e.userId?e.userId.toString():"",options:r,onFilterValueChange:e=>g(e),onChange:e=>t({userId:parseInt(e)}),placeholder:(0,o.__)("Type to search members...","smart-flashcards"),__experimentalShowLoading:m}),u&&(0,l.createElement)(c.Notice,{status:"error",isDismissible:!1},u)),(0,l.createElement)(c.ToggleControl,{label:(0,o.__)("Show Name","smart-flashcards"),checked:e.showName,onChange:e=>t({showName:e})}),(0,l.createElement)(c.ToggleControl,{label:(0,o.__)("Show Avatar","smart-flashcards"),checked:e.showAvatar,onChange:e=>t({showAvatar:e})}),e.showAvatar&&(0,l.createElement)(c.RangeControl,{label:(0,o.__)("Avatar Size","smart-flashcards"),value:e.avatarSize,onChange:e=>t({avatarSize:e}),min:32,max:256,step:8}),(0,l.createElement)(c.ToggleControl,{label:(0,o.__)("Show Bio","smart-flashcards"),checked:e.showBio,onChange:e=>t({showBio:e})}),(0,l.createElement)(c.ToggleControl,{label:(0,o.__)("Show Email","smart-flashcards"),checked:e.showEmail,onChange:e=>t({showEmail:e})}),(0,l.createElement)(c.ToggleControl,{label:(0,o.__)("Show Website","smart-flashcards"),checked:e.showWebsite,onChange:e=>t({showWebsite:e})}),(0,l.createElement)(c.ToggleControl,{label:(0,o.__)("Show Social Links","smart-flashcards"),checked:e.showSocialLinks,onChange:e=>t({showSocialLinks:e})}))),e.userId?(0,l.createElement)(p(),{block:"smfcs/member",attributes:e,EmptyResponsePlaceholder:()=>(0,l.createElement)(c.Placeholder,{icon:(0,l.createElement)(c.Icon,{icon:b}),label:(0,o.__)("Member","smart-flashcards"),instructions:(0,o.__)("Loading member content...","smart-flashcards")},(0,l.createElement)(c.Spinner,null)),ErrorResponsePlaceholder:({response:e})=>(0,l.createElement)(c.Placeholder,{icon:(0,l.createElement)(c.Icon,{icon:b}),label:(0,o.__)("Error","smart-flashcards"),instructions:e?.message||(0,o.__)("Error loading member content. Please try again.","smart-flashcards")})}):(0,l.createElement)(c.Placeholder,{icon:(0,l.createElement)(c.Icon,{icon:b}),label:(0,o.__)("Member","smart-flashcards"),instructions:(0,o.__)("Select a member to display","smart-flashcards")}))},save:()=>null})})();