(()=>{"use strict";var e={20:(e,a,t)=>{var s=t(609),r=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};a.jsx=function(e,a,t){var s,i={},c=null,d=null;for(s in void 0!==t&&(c=""+t),void 0!==a.key&&(c=""+a.key),void 0!==a.ref&&(d=a.ref),a)o.call(a,s)&&!n.hasOwnProperty(s)&&(i[s]=a[s]);if(e&&e.defaultProps)for(s in a=e.defaultProps)void 0===i[s]&&(i[s]=a[s]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:l.current}}},848:(e,a,t)=>{e.exports=t(20)},609:e=>{e.exports=window.React}},a={};function t(s){var r=a[s];if(void 0!==r)return r.exports;var o=a[s]={exports:{}};return e[s](o,o.exports,t),o.exports}t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a);const s=window.wp.blocks,r=window.wp.i18n,o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"smfcs/user-display","version":"1.0.0","title":"User Display","category":"widgets","icon":"admin-users","description":"Display a user profile with customizable elements","supports":{"html":false,"align":["wide","full"]},"textdomain":"smart-flashcards","editorScript":"file:../../../build/blocks/user-display/index.js","editorStyle":"file:../../../build/blocks/user-display/editor.css","style":"file:../../../build/blocks/user-display/style.css","attributes":{"userId":{"type":"number","default":0},"showName":{"type":"boolean","default":true},"showAvatar":{"type":"boolean","default":true},"showBio":{"type":"boolean","default":true},"showEmail":{"type":"boolean","default":false},"showWebsite":{"type":"boolean","default":false},"showSocialLinks":{"type":"boolean","default":false},"avatarSize":{"type":"number","default":96},"timestamp":{"type":"number","default":0}}}');var l=t(609);const n=window.wp.blockEditor,i=window.wp.components,c=window.wp.element,d=window.wp.apiFetch;var m=t.n(d);const h=window.wp.serverSideRender;var p=t.n(h);const u=window.wp.primitives;var w=t(848);const f=(0,w.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,w.jsx)(u.Path,{fillRule:"evenodd",d:"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"})}),_=window.lodash;(0,s.registerBlockType)(o.name,{...o,edit:({attributes:e,setAttributes:a})=>{const t=(0,n.useBlockProps)(),[s,o]=(0,c.useState)([]),[d,h]=(0,c.useState)(!1),[u,w]=(0,c.useState)(""),b=async(e="")=>{h(!0),w("");try{const a=(await m()({path:`/wp/v2/users?${e?`search=${encodeURIComponent(e)}&`:""}per_page=100&context=edit`})).map((e=>({value:e.id.toString(),label:`${e.name} (${e.email})`})));o(a)}catch(e){w(e.message),o([])}finally{h(!1)}},y=(0,_.debounce)((e=>{b(e)}),300);return(0,c.useEffect)((()=>{b()}),[]),(0,l.createElement)("div",{...t},(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:(0,r.__)("User Settings","smart-flashcards")},(0,l.createElement)("div",{className:"user-search-container"},(0,l.createElement)(i.ComboboxControl,{label:(0,r.__)("Select or Search User","smart-flashcards"),value:e.userId?e.userId.toString():"",options:s,onFilterValueChange:e=>y(e),onChange:e=>a({userId:parseInt(e)}),placeholder:(0,r.__)("Type to search users...","smart-flashcards"),__experimentalShowLoading:d}),u&&(0,l.createElement)(i.Notice,{status:"error",isDismissible:!1},u)),(0,l.createElement)(i.ToggleControl,{label:(0,r.__)("Show Name","smart-flashcards"),checked:e.showName,onChange:e=>a({showName:e})}),(0,l.createElement)(i.ToggleControl,{label:(0,r.__)("Show Avatar","smart-flashcards"),checked:e.showAvatar,onChange:e=>a({showAvatar:e})}),e.showAvatar&&(0,l.createElement)(i.RangeControl,{label:(0,r.__)("Avatar Size","smart-flashcards"),value:e.avatarSize,onChange:e=>a({avatarSize:e}),min:32,max:256,step:8}),(0,l.createElement)(i.ToggleControl,{label:(0,r.__)("Show Bio","smart-flashcards"),checked:e.showBio,onChange:e=>a({showBio:e})}),(0,l.createElement)(i.ToggleControl,{label:(0,r.__)("Show Email","smart-flashcards"),checked:e.showEmail,onChange:e=>a({showEmail:e})}),(0,l.createElement)(i.ToggleControl,{label:(0,r.__)("Show Website","smart-flashcards"),checked:e.showWebsite,onChange:e=>a({showWebsite:e})}),(0,l.createElement)(i.ToggleControl,{label:(0,r.__)("Show Social Links","smart-flashcards"),checked:e.showSocialLinks,onChange:e=>a({showSocialLinks:e})}))),e.userId?(0,l.createElement)(p(),{block:"smfcs/user-display",attributes:e,EmptyResponsePlaceholder:()=>(0,l.createElement)(i.Placeholder,{icon:(0,l.createElement)(i.Icon,{icon:f}),label:(0,r.__)("User Display","smart-flashcards"),instructions:(0,r.__)("Loading user content...","smart-flashcards")},(0,l.createElement)(i.Spinner,null)),ErrorResponsePlaceholder:({response:e})=>(0,l.createElement)(i.Placeholder,{icon:(0,l.createElement)(i.Icon,{icon:f}),label:(0,r.__)("Error","smart-flashcards"),instructions:e?.message||(0,r.__)("Error loading user content. Please try again.","smart-flashcards")})}):(0,l.createElement)(i.Placeholder,{icon:(0,l.createElement)(i.Icon,{icon:f}),label:(0,r.__)("User Display","smart-flashcards"),instructions:(0,r.__)("Select a user to display","smart-flashcards")}))},save:()=>null})})();