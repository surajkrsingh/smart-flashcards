(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"smfcs/flashcard","version":"0.1.0","title":"Flashcard","category":"widgets","icon":"index-card","description":"Create interactive flashcards with custom content","supports":{"html":true,"align":["wide","full"],"color":{"background":true,"gradients":true}},"attributes":{"isFlipped":{"type":"boolean","default":false},"width":{"type":"number","default":100},"height":{"type":"number","default":300},"isVisible":{"type":"boolean","default":true},"index":{"type":"number"}},"example":{"attributes":{"isFlipped":false},"innerBlocks":[{"name":"smfcs/flashcard-front","innerBlocks":[{"name":"core/heading","attributes":{"content":"Front Side","level":2}}]},{"name":"smfcs/flashcard-back","innerBlocks":[{"name":"core/heading","attributes":{"content":"Back Side","level":2}}]}]},"textdomain":"smart-flashcards","editorScript":"file:../../../build/flashcard/index.js","editorStyle":"file:../../../build/editor.css","style":"file:../../../build/style.css","viewScript":"file:../../../build/frontend.js"}'),s=window.React,l=window.wp.blockEditor,n=window.wp.components,r=window.wp.element,i=window.wp.data,c="smfcs",o={FLASHCARD_SET:`${c}/flashcard-set`,FLASHCARD:`${c}/flashcard`,FLASHCARD_FRONT:`${c}/flashcard-front`,FLASHCARD_BACK:`${c}/flashcard-back`},d=[o.FLASHCARD_FRONT,o.FLASHCARD_BACK],m=[[o.FLASHCARD_FRONT],[o.FLASHCARD_BACK]];(0,e.registerBlockType)(a.name,{...a,title:(0,t.__)("Smart Flashcard","smart-flashcards"),description:(0,t.__)("Create interactive flashcards with custom content","smart-flashcards"),edit:function({attributes:e,setAttributes:a,clientId:c}){const[o,h]=(0,r.useState)(!1),{width:f,height:u,index:p}=e,b=(0,l.useBlockProps)({"data-index":p}),{selectedBlockClientId:w}=(0,i.useSelect)((e=>({selectedBlockClientId:e("core/block-editor").getSelectedBlockClientId()}))),{innerBlocks:k}=(0,i.useSelect)((e=>({innerBlocks:e("core/block-editor").getBlocks(c)})));return(0,r.useEffect)((()=>{if(w){const e=k.find((e=>"smfcs/flashcard-front"===e.name)),t=k.find((e=>"smfcs/flashcard-back"===e.name));e&&w===e.clientId?h(!1):t&&w===t.clientId&&h(!0)}}),[w,k]),(0,s.createElement)("div",{...b},p&&(0,s.createElement)("div",{className:"flashcard-index"},p),(0,s.createElement)(l.InspectorControls,null,(0,s.createElement)(n.PanelBody,{title:(0,t.__)("Flashcard Settings","smart-flashcards")},(0,s.createElement)(n.ButtonGroup,null,(0,s.createElement)(n.Button,{isPrimary:!o,onClick:()=>h(!1),"aria-label":(0,t.__)("Show front side","smart-flashcards")},(0,t.__)("Front","smart-flashcards")),(0,s.createElement)(n.Button,{isPrimary:o,onClick:()=>h(!0),"aria-label":(0,t.__)("Show back side","smart-flashcards")},(0,t.__)("Back","smart-flashcards")))),(0,s.createElement)(n.PanelBody,{title:"Dimensions"},(0,s.createElement)(n.RangeControl,{label:"Width (%)",value:f,onChange:e=>a({width:e}),min:20,max:100,step:5}),(0,s.createElement)(n.RangeControl,{label:"Height (px)",value:u,onChange:e=>a({height:e}),min:200,max:800,step:10}))),(0,s.createElement)("div",{className:"flashcard"},(0,s.createElement)("div",{className:"flashcard-inner "+(o?"is-flipped":"")},(0,s.createElement)(l.InnerBlocks,{allowedBlocks:d,template:m,templateLock:"all"}),(0,s.createElement)(n.Button,{className:"smfcs-flashcard-flip-button is-primary",isPrimary:o,onClick:()=>h(!o),"aria-label":o?(0,t.__)("Show front side","smart-flashcards"):(0,t.__)("Show back side","smart-flashcards")},(0,s.createElement)("span",{class:"dashicons dashicons-image-flip-horizontal"})))))},save:function({attributes:e}){const{width:t,height:a}=e,n=l.useBlockProps.save({style:{width:`${t}%`,height:`${a}px`}});return(0,s.createElement)("div",{...n},(0,s.createElement)("div",{className:"flashcard"},(0,s.createElement)("div",{className:"flashcard-inner",role:"button",tabIndex:"0","aria-label":"Flashcard front side - Click or press Enter to flip"},(0,s.createElement)(l.InnerBlocks.Content,null))))}})})();