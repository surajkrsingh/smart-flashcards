(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"smfcs/card-stack","version":"1.0.0","title":"Card Stack","category":"widgets","icon":"slides","description":"Create interactive stacked cards with animations","supports":{"html":false,"anchor":true,"align":["wide","full"]},"attributes":{"currentCard":{"type":"number","default":0},"animationType":{"type":"string","default":"flip"},"animationDirection":{"type":"string","default":"horizontal"},"stackSpacing":{"type":"number","default":10},"backgroundColor":{"type":"string","default":"#ffffff"},"textColor":{"type":"string","default":"#000000"},"borderRadius":{"type":"number","default":8},"padding":{"type":"number","default":20}},"textdomain":"smart-flashcards","editorScript":"file:../../../build/card-stack/index.js","editorStyle":"file:../../../build/editor.css","style":"file:../../../build/style.css","viewScript":"file:../../../build/frontend.js"}'),a=window.React,n=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.components,l=window.wp.data,i=window.wp.element,c="smfcs",d={CARD_STACK:`${c}/stack`,CARD:`${c}/card`},s=[d.CARD],u=[[d.CARD]],p={icon:"slides",edit:function({attributes:e,setAttributes:t,clientId:c}){const{currentCard:d,animationType:p,animationDirection:m,stackSpacing:k,backgroundColor:g,textColor:b,borderRadius:C,padding:f}=e,w=(0,i.useRef)(null),{innerBlocks:y,selectedBlockClientId:h}=(0,l.useSelect)((e=>({innerBlocks:e("core/block-editor").getBlocks(c),selectedBlockClientId:e("core/block-editor").getSelectedBlockClientId()})),[c]),{updateBlockAttributes:v}=(0,l.useDispatch)("core/block-editor");(0,i.useEffect)((()=>{y.forEach(((e,t)=>{v(e.clientId,{index:t+1,backgroundColor:g,textColor:b})}))}),[y.length,g,b]);const S=(0,o.useBlockProps)({ref:w,style:{"--stack-spacing":`${k}px`,"--border-radius":`${C}px`,"--padding":`${f}px`}});return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(o.InspectorControls,null,(0,a.createElement)(r.PanelBody,{title:(0,n.__)("Stack Settings","card-stack")},(0,a.createElement)(r.SelectControl,{label:(0,n.__)("Animation Type","card-stack"),value:p,options:[{label:"Flip",value:"flip"},{label:"Slide",value:"slide"},{label:"Stack",value:"stack"}],onChange:e=>t({animationType:e})}),(0,a.createElement)(r.SelectControl,{label:(0,n.__)("Animation Direction","card-stack"),value:m,options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}],onChange:e=>t({animationDirection:e})}),(0,a.createElement)(r.RangeControl,{label:(0,n.__)("Stack Spacing","card-stack"),value:k,onChange:e=>t({stackSpacing:e}),min:0,max:50}),(0,a.createElement)(r.RangeControl,{label:(0,n.__)("Border Radius","card-stack"),value:C,onChange:e=>t({borderRadius:e}),min:0,max:50}),(0,a.createElement)(r.RangeControl,{label:(0,n.__)("Padding","card-stack"),value:f,onChange:e=>t({padding:e}),min:0,max:50}),(0,a.createElement)(r.ColorPicker,{label:(0,n.__)("Background Color","card-stack"),color:g,onChange:e=>t({backgroundColor:e})}),(0,a.createElement)(r.ColorPicker,{label:(0,n.__)("Text Color","card-stack"),color:b,onChange:e=>t({textColor:e})}))),(0,a.createElement)("div",{...S},(0,a.createElement)("div",{className:"card-stack-container"},(0,a.createElement)(o.InnerBlocks,{allowedBlocks:s,orientation:"horizontal",template:u}))))},save:function({attributes:e}){const{stackSpacing:t,backgroundColor:n,textColor:r,borderRadius:l,padding:i,currentCard:c,animationType:d,animationDirection:s}=e,u=o.useBlockProps.save({style:{"--stack-spacing":`${t}px`,"--background-color":n,"--text-color":r,"--border-radius":`${l}px`,"--padding":`${i}px`,"--animation-type":d,"--animation-direction":s,"--current-card":c}});return(0,a.createElement)("div",{...u},(0,a.createElement)("div",{className:"card-stack-container","data-animation-type":d,"data-animation-direction":s},(0,a.createElement)(o.InnerBlocks.Content,null)))}};(0,e.registerBlockType)(t.name,{...t,...p})})();